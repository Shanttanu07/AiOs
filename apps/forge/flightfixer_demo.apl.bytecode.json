{
  "program": [
    [
      "CALL_TOOL",
      "tweets_load",
      {
        "dataset_path": "sandbox/in/twitter_airline_sentiment.csv",
        "target_airlines": [
          "@united",
          "@AmericanAir",
          "@Delta",
          "@SouthwestAir"
        ],
        "date_range": {
          "start": "2015-02-01",
          "end": "2015-02-28"
        },
        "sentiment_filter": [
          "negative"
        ]
      },
      {
        "tweets": "S0"
      }
    ],
    [
      "CALL_TOOL",
      "parse_entities",
      {
        "tweets": "S0",
        "confidence_threshold": 0.6,
        "use_llm_fallback": true
      },
      {
        "parsed_tweets": "S1"
      }
    ],
    [
      "CALL_TOOL",
      "bts_loader",
      {
        "bts_data_path": "sandbox/in/bts_ontime_feb2015.csv",
        "month_filter": "2015-02",
        "carriers": [
          "UA",
          "AA",
          "DL",
          "WN"
        ]
      },
      {
        "flight_performance": "S2"
      }
    ],
    [
      "CALL_TOOL",
      "flight_matcher",
      {
        "parsed_tweets": "S1",
        "flight_performance": "S2",
        "match_confidence_threshold": 0.7,
        "date_tolerance_days": 1
      },
      {
        "matched_flights": "S3"
      }
    ],
    [
      "CALL_TOOL",
      "refund_analyzer",
      {
        "matched_flights": "S3",
        "dot_rules_config": {
          "domestic_significant_delay_minutes": 180,
          "international_significant_delay_minutes": 360,
          "automatic_refund_required": true
        }
      },
      {
        "refund_decisions": "S4"
      }
    ],
    [
      "CALL_TOOL",
      "action_generator",
      {
        "refund_decisions": "S4",
        "unmatched_tweets": "S5",
        "output_config": {
          "claims_format": "jsonl",
          "replies_format": "markdown",
          "include_legal_disclaimer": true
        }
      },
      {
        "refund_claims": "S6"
      }
    ]
  ],
  "capabilities": [
    "fs.read",
    "fs.write",
    "model.call"
  ],
  "slots": {
    "complaint_tweets": "S0",
    "parsed_complaints": "S1",
    "flight_performance": "S2",
    "matched_flights": "S3",
    "refund_decisions": "S4",
    "unmatched_tweets": "S5",
    "actionable_outputs": "S6"
  },
  "metadata": {
    "goal": "FlightFixer: Transform messy airline complaints into actionable refund claims using real BTS data and DOT 2024 rules",
    "inputs": {
      "twitter_dataset": "sandbox/in/twitter_airline_sentiment.csv",
      "bts_data": "sandbox/in/bts_ontime_feb2015.csv"
    },
    "compilation_mode": "tools"
  }
}