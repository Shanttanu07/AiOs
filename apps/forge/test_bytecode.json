{
  "program": [
    [
      "CALL_TOOL",
      "tweets_load",
      {
        "dataset_path": "sandbox/in/twitter_airline_sentiment.csv",
        "target_airlines": [
          "@united",
          "@AmericanAir",
          "@delta"
        ],
        "sentiment_filter": [
          "negative",
          "complaint"
        ]
      },
      {
        "result": "$tweets_data"
      }
    ],
    [
      "CALL_TOOL",
      "parse_entities",
      {
        "tweets": "$tweets_data",
        "confidence_threshold": 0.7,
        "use_llm_fallback": true
      },
      {
        "result": "$parsed_tweets"
      }
    ],
    [
      "CALL_TOOL",
      "bts_loader",
      {
        "bts_data_path": "sandbox/in/bts_flight_performance.csv",
        "month_filter": "2024-01",
        "carriers": [
          "UA",
          "AA",
          "DL"
        ]
      },
      {
        "result": "$flight_performance"
      }
    ],
    [
      "CALL_TOOL",
      "flight_matcher",
      {
        "parsed_tweets": "$parsed_tweets",
        "flight_performance": "$flight_performance",
        "match_confidence_threshold": 0.6,
        "date_tolerance_days": 3
      },
      {
        "result": "$matched_flights"
      }
    ],
    [
      "CALL_TOOL",
      "refund_analyzer",
      {
        "matched_flights": "$matched_flights",
        "dot_rules_config": {
          "delay_threshold_minutes": 120,
          "cancellation_compensation": true
        }
      },
      {
        "result": "$refund_decisions"
      }
    ],
    [
      "CALL_TOOL",
      "action_generator",
      {
        "refund_decisions": "$refund_decisions",
        "unmatched_tweets": "$unmatched_tweets",
        "output_config": {
          "format": "json",
          "include_slack_notifications": true
        }
      },
      {
        "result": "$complaint_actions"
      }
    ],
    [
      "CALL_TOOL",
      "business_insights",
      {
        "customer_data": "$matched_flights",
        "focus_areas": [
          "customer_experience",
          "refund_policy",
          "airline_performance"
        ]
      },
      {
        "result": "$final_insights"
      }
    ]
  ],
  "capabilities": [
    "fs.read",
    "fs.write",
    "model.call"
  ],
  "slots": {},
  "metadata": {
    "goal": "Analyze airline complaint patterns and generate insights",
    "inputs": {
      "main_input": "twitter_airline_sentiment.csv"
    },
    "compilation_mode": "tools"
  }
}