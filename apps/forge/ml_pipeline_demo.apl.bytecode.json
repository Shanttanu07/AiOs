{
  "program": [
    [
      "CALL_TOOL",
      "read_csv",
      {
        "input": "sandbox/in/crm_customers.csv"
      },
      {
        "result": "$dataset"
      }
    ],
    [
      "CALL_TOOL",
      "profile",
      {
        "data": "$dataset"
      },
      {
        "result": "$data_profile"
      }
    ],
    [
      "CALL_TOOL",
      "split",
      {
        "table": "$dataset",
        "ratio": 0.8,
        "seed": 42
      },
      {
        "result": "$data_splits"
      }
    ],
    [
      "CALL_TOOL",
      "train_lr",
      {
        "train_data": "$data_splits",
        "target": "revenue"
      },
      {
        "result": "$trained_model"
      }
    ],
    [
      "CALL_TOOL",
      "eval",
      {
        "model": "$trained_model",
        "val_data": "$data_splits"
      },
      {
        "result": "$metrics"
      }
    ],
    [
      "CALL_TOOL",
      "build_cli",
      {
        "model": "S0",
        "schema": "S1",
        "output_dir": "$cli_app"
      },
      {}
    ],
    [
      "CALL_TOOL",
      "zip",
      {
        "source_dir": "$cli_app",
        "output_path": "sandbox/out/ml_pipeline.zip"
      },
      {}
    ]
  ],
  "capabilities": [
    "fs.read",
    "fs.write",
    "proc.spawn"
  ],
  "slots": {
    "trained_model": "S0",
    "data_profile": "S1"
  },
  "metadata": {
    "goal": "Complete ML pipeline with data processing and model deployment",
    "inputs": {
      "training_data": "sandbox/in/crm_customers.csv"
    },
    "compilation_mode": "tools"
  }
}